class Node:
    def __init__(self, data, parent=None, child=None):
        # Node contents
        self.data = data
        # Previous node
        self.parent = parent
        # Next node
        self.child = child

class Stack:
    def __init__(self):
        # Initializing list
        self.head = None

    def push(self, data):

        # List is empty
        if(self.head == None):
            # Set element as head
            self.head = Node(data, None, None)
            return

        # List is populated
        head = self.head
        # Loop thru list until the end of the list is reached
        while head != None:
            if (head.child == None):
                # Add the new data here
                head.child = Node(data, head, None)
                return

            # Move to next element
            head = head.child

    def pop(self, idx=-1):
        # List is empty
        if(self.head == None):
            print("List is Empty!")
            return

        # List is populated
        head = self.head
        # Current head needs to be removed
        if (idx == 0 or idx == -1 and head.child == None):
            # Move head to next element
            data = head.data
            self.head = head.child
            return data
        else:
            # Looking at child index
            index = 1
            while head.child != None:
                # Remove node between head and it's grandchild
                if (idx == index):
                    data = head.child.data
                    head.child = head.child.child
                    return data
                # Remove node at the end of the list
                elif (idx == -1 and head.child.child == None):
                    data = head.child.data
                    head.child = None
                    return data
                
                # Update values
                index += 1
                head = head.child

    # Print the entire list
    def printList(self):

        if self.head == None:
            print("List is Empty!")

        else:
            llist = ''
            head = self.head
            while head != None:
                llist += str(head.data)

                if (head.child != None):
                    llist += ' -> '
                head = head.child
            print(llist)


if __name__ == "__main__":
    myList = Stack()
    myList.push(1)
    myList.push(2)
    myList.push(3)
    myList.push(4)
    print(myList.pop())
    myList.push(5)
    
    myList.printList()